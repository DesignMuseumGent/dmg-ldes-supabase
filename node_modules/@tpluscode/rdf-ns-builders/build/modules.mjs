import { identifier } from 'safe-identifier';

function createExport(prefix, exportName) {
  return {
    namedExports: [{
      name: exportName,
      alias: identifier(prefix)
    }],
    moduleSpecifier: `./vocabularies/${prefix}`
  };
}

export function createLooseModule(sourceFile, prefixes) {
  Object.keys(prefixes).forEach(prefix => {
    sourceFile.addExportDeclaration(createExport(prefix, 'loose'));
  });
}
export function createDefaultModule(sourceFile, prefixes) {
  Object.keys(prefixes).forEach(prefix => {
    sourceFile.addExportDeclaration(createExport(prefix, 'strict'));
  });
}